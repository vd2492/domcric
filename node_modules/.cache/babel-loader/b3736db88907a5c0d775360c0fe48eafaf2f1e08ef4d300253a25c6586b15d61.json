{"ast":null,"code":"import Papa from 'papaparse';\nimport { PlayerCategory, PlayerSubCategory } from '../types';\nexport const parseCSVData = csvText => {\n  const results = Papa.parse(csvText, {\n    header: true,\n    skipEmptyLines: true\n  });\n  const players = [];\n  let playerId = 1;\n  results.data.forEach(row => {\n    const csvPlayer = row;\n\n    // Skip rows with empty player names\n    if (!csvPlayer.Player || csvPlayer.Player.trim() === '') {\n      return;\n    }\n\n    // Determine category and subcategory based on Role\n    const {\n      category,\n      subCategory\n    } = getCategoryFromRole(csvPlayer.Role);\n\n    // Create player object\n    const player = {\n      id: `p${playerId++}`,\n      name: csvPlayer.Player.trim(),\n      team: csvPlayer.Team.trim(),\n      performance: {\n        matches: parseInt(csvPlayer.Mat) || 0,\n        runs: parseInt(csvPlayer.Runs) || 0,\n        wickets: parseInt(csvPlayer.Wickets) || 0,\n        battingAverage: parseFloat(csvPlayer.Avg) || 0,\n        strikeRate: parseFloat(csvPlayer.SR) || 0,\n        economy: parseFloat(csvPlayer.ER) || 0\n      },\n      category,\n      subCategory\n    };\n\n    // Add keeper-specific stats if applicable\n    if (category === PlayerCategory.KEEPER) {\n      player.performance.catches = 0; // Default value, not in CSV\n      player.performance.stumpings = 0; // Default value, not in CSV\n    }\n\n    // Add bowling average for bowlers and all-rounders\n    if (category === PlayerCategory.BOWLER || category === PlayerCategory.ALLROUNDER) {\n      player.performance.bowlingAverage = parseFloat(csvPlayer.Avg) || 0;\n    }\n    players.push(player);\n  });\n  return players;\n};\nconst getCategoryFromRole = role => {\n  const roleLower = role.toLowerCase();\n\n  // Wicketkeeper\n  if (roleLower.includes('wicketkeeper') || roleLower.includes('keeper')) {\n    return {\n      category: PlayerCategory.KEEPER\n    };\n  }\n\n  // Batsman\n  if (roleLower.includes('batsman') || roleLower.includes('bat')) {\n    return {\n      category: PlayerCategory.OPENING_BATTER\n    };\n  }\n\n  // All-rounders\n  if (roleLower.includes('all-rounder') || roleLower.includes('allrounder')) {\n    if (roleLower.includes('spin') || roleLower.includes('orthodox') || roleLower.includes('leg') || roleLower.includes('offbreak')) {\n      return {\n        category: PlayerCategory.ALLROUNDER,\n        subCategory: PlayerSubCategory.SPINNER_ALLROUNDER\n      };\n    } else {\n      return {\n        category: PlayerCategory.ALLROUNDER,\n        subCategory: PlayerSubCategory.FAST_BOWLING_ALLROUNDER\n      };\n    }\n  }\n\n  // Bowlers\n  if (roleLower.includes('bowler') || roleLower.includes('bowling')) {\n    if (roleLower.includes('spin') || roleLower.includes('orthodox') || roleLower.includes('leg') || roleLower.includes('offbreak') || roleLower.includes('wrist spin')) {\n      return {\n        category: PlayerCategory.BOWLER,\n        subCategory: PlayerSubCategory.SPINNER\n      };\n    } else {\n      return {\n        category: PlayerCategory.BOWLER,\n        subCategory: PlayerSubCategory.FAST_BOWLER\n      };\n    }\n  }\n\n  // Default to batsman if role is unclear\n  return {\n    category: PlayerCategory.OPENING_BATTER\n  };\n};\nexport const loadCSVData = async () => {\n  try {\n    const response = await fetch('/players.csv');\n    const csvText = await response.text();\n    return parseCSVData(csvText);\n  } catch (error) {\n    console.error('Error loading CSV data:', error);\n    return [];\n  }\n};","map":{"version":3,"names":["Papa","PlayerCategory","PlayerSubCategory","parseCSVData","csvText","results","parse","header","skipEmptyLines","players","playerId","data","forEach","row","csvPlayer","Player","trim","category","subCategory","getCategoryFromRole","Role","player","id","name","team","Team","performance","matches","parseInt","Mat","runs","Runs","wickets","Wickets","battingAverage","parseFloat","Avg","strikeRate","SR","economy","ER","KEEPER","catches","stumpings","BOWLER","ALLROUNDER","bowlingAverage","push","role","roleLower","toLowerCase","includes","OPENING_BATTER","SPINNER_ALLROUNDER","FAST_BOWLING_ALLROUNDER","SPINNER","FAST_BOWLER","loadCSVData","response","fetch","text","error","console"],"sources":["C:/Users/VASUDEV UTTHARAHALLI/OneDrive/Desktop/domcric/src/utils/csvParser.ts"],"sourcesContent":["import Papa from 'papaparse';\r\nimport { Player, PlayerCategory, PlayerSubCategory } from '../types';\r\n\r\nexport interface CSVPlayer {\r\n  No: string;\r\n  Player: string;\r\n  Team: string;\r\n  Wickets: string;\r\n  Mat: string;\r\n  Inns: string;\r\n  Avg: string;\r\n  SR: string;\r\n  ER: string;\r\n  '5W+': string;\r\n  '3W+': string;\r\n  Maiden: string;\r\n  Runs: string;\r\n  HS: string;\r\n  '100': string;\r\n  '50': string;\r\n  '4s': string;\r\n  '6s': string;\r\n  Role: string;\r\n}\r\n\r\nexport const parseCSVData = (csvText: string): Player[] => {\r\n  const results = Papa.parse(csvText, {\r\n    header: true,\r\n    skipEmptyLines: true,\r\n  });\r\n\r\n  const players: Player[] = [];\r\n  let playerId = 1;\r\n\r\n  results.data.forEach((row: any) => {\r\n    const csvPlayer = row as CSVPlayer;\r\n    \r\n    // Skip rows with empty player names\r\n    if (!csvPlayer.Player || csvPlayer.Player.trim() === '') {\r\n      return;\r\n    }\r\n\r\n    // Determine category and subcategory based on Role\r\n    const { category, subCategory } = getCategoryFromRole(csvPlayer.Role);\r\n    \r\n    // Create player object\r\n    const player: Player = {\r\n      id: `p${playerId++}`,\r\n      name: csvPlayer.Player.trim(),\r\n      team: csvPlayer.Team.trim(),\r\n      performance: {\r\n        matches: parseInt(csvPlayer.Mat) || 0,\r\n        runs: parseInt(csvPlayer.Runs) || 0,\r\n        wickets: parseInt(csvPlayer.Wickets) || 0,\r\n        battingAverage: parseFloat(csvPlayer.Avg) || 0,\r\n        strikeRate: parseFloat(csvPlayer.SR) || 0,\r\n        economy: parseFloat(csvPlayer.ER) || 0,\r\n      },\r\n      category,\r\n      subCategory,\r\n    };\r\n\r\n    // Add keeper-specific stats if applicable\r\n    if (category === PlayerCategory.KEEPER) {\r\n      player.performance.catches = 0; // Default value, not in CSV\r\n      player.performance.stumpings = 0; // Default value, not in CSV\r\n    }\r\n\r\n    // Add bowling average for bowlers and all-rounders\r\n    if (category === PlayerCategory.BOWLER || category === PlayerCategory.ALLROUNDER) {\r\n      player.performance.bowlingAverage = parseFloat(csvPlayer.Avg) || 0;\r\n    }\r\n\r\n    players.push(player);\r\n  });\r\n\r\n  return players;\r\n};\r\n\r\nconst getCategoryFromRole = (role: string): { category: PlayerCategory; subCategory?: PlayerSubCategory } => {\r\n  const roleLower = role.toLowerCase();\r\n  \r\n  // Wicketkeeper\r\n  if (roleLower.includes('wicketkeeper') || roleLower.includes('keeper')) {\r\n    return { category: PlayerCategory.KEEPER };\r\n  }\r\n  \r\n  // Batsman\r\n  if (roleLower.includes('batsman') || roleLower.includes('bat')) {\r\n    return { category: PlayerCategory.OPENING_BATTER };\r\n  }\r\n  \r\n  // All-rounders\r\n  if (roleLower.includes('all-rounder') || roleLower.includes('allrounder')) {\r\n    if (roleLower.includes('spin') || roleLower.includes('orthodox') || roleLower.includes('leg') || roleLower.includes('offbreak')) {\r\n      return { \r\n        category: PlayerCategory.ALLROUNDER, \r\n        subCategory: PlayerSubCategory.SPINNER_ALLROUNDER \r\n      };\r\n    } else {\r\n      return { \r\n        category: PlayerCategory.ALLROUNDER, \r\n        subCategory: PlayerSubCategory.FAST_BOWLING_ALLROUNDER \r\n      };\r\n    }\r\n  }\r\n  \r\n  // Bowlers\r\n  if (roleLower.includes('bowler') || roleLower.includes('bowling')) {\r\n    if (roleLower.includes('spin') || roleLower.includes('orthodox') || roleLower.includes('leg') || roleLower.includes('offbreak') || roleLower.includes('wrist spin')) {\r\n      return { \r\n        category: PlayerCategory.BOWLER, \r\n        subCategory: PlayerSubCategory.SPINNER \r\n      };\r\n    } else {\r\n      return { \r\n        category: PlayerCategory.BOWLER, \r\n        subCategory: PlayerSubCategory.FAST_BOWLER \r\n      };\r\n    }\r\n  }\r\n  \r\n  // Default to batsman if role is unclear\r\n  return { category: PlayerCategory.OPENING_BATTER };\r\n};\r\n\r\nexport const loadCSVData = async (): Promise<Player[]> => {\r\n  try {\r\n    const response = await fetch('/players.csv');\r\n    const csvText = await response.text();\r\n    return parseCSVData(csvText);\r\n  } catch (error) {\r\n    console.error('Error loading CSV data:', error);\r\n    return [];\r\n  }\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}